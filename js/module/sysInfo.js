import{loadModule}from"/js/module/moduleLoader.js";export function show(e){const n=(new UAParser).getResult();console.log("系统检测：",n);const i=n.os.name,d=n.os.version,o=n.cpu.architecture||navigator.platform,a=n.browser.name;if(e.innerHTML="",addSysInfoItem(e,navigator.userAgent),"Android"!==i)addSysErrItem(e,"当前系统不是安卓系统，无法运行。");else if(parseInt(d)<9)addSysErrItem(e,"当前系统版本过低，无法运行。");else if(o){const n=[{reg:/aarch64|arm64|armv8/i,msg:"请选择通用架构或“arm64-v8a”架构。"},{reg:/armeabi-v7a|(arm$)|armv7/i,msg:"请选择通用架构或“armeabi-v7a”架构。"},{reg:/x86_64|x64|amd64/i,msg:"请选择通用架构或“x86_64”架构。"},{reg:/x86|i[36]86/i,msg:"请选择通用架构或“x86”架构。"}].find((e=>e.reg.test(o)));n?addSysGreenItem(e,n.msg):addSysInfoItem(e,"请选择通用架构。")}["Chrome","Mobile Chrome","Firefox","Mobile Firefox","Edge","Opera"].includes(a)||addSysWarnItem(e,"当前浏览器不是常用浏览器。部分浏览器会识别下载内容并引流至下载其它软件。"),"Vivo Browser"===a&&addSysErrItem(e,"vivo品牌手机自带浏览器会识别下载内容并引流至下载其它软件。"),("WeChat"===a||isAndroidQQInnerWebView(navigator.userAgent))&&addSysErrItem(e,"请复制网址到浏览器中打开！")}export function addSysInfoItem(e,n){const i=document.createElement("div");i.innerHTML=`\n  <div class="mdui-panel-item mdui-panel-item-open">\n    <div class="mdui-panel-item-body mdui-typo" style='padding: 12px; padding-bottom: 0px;'>\n      <p><i class="mdui-icon material-icons">info</i>${n}</p>\n    </div>\n  </div>\n  `,e.appendChild(i)}export function addSysWarnItem(e,n){const i=document.createElement("div");i.innerHTML=`\n  <div class="mdui-panel-item mdui-panel-item-open" style="background-color: #ffff0040;">\n    <div class="mdui-panel-item-body mdui-typo" style='padding: 12px; padding-bottom: 0px;'>\n      <p><i class="mdui-icon material-icons">warning</i>${n}</p>\n    </div>\n  </div>\n  `,e.appendChild(i)}export function addSysErrItem(e,n){const i=document.createElement("div");i.innerHTML=`\n  <div class="mdui-panel-item mdui-panel-item-open" style="background-color: #ff000040;">\n    <div class="mdui-panel-item-body mdui-typo" style='padding: 12px; padding-bottom: 0px;'>\n      <p><i class="mdui-icon material-icons">cancel</i>${n}</p>\n    </div>\n  </div>\n  `,e.appendChild(i)}export function addSysGreenItem(e,n){const i=document.createElement("div");i.innerHTML=`\n  <div class="mdui-panel-item mdui-panel-item-open" style="background-color: #00ff0040;">\n    <div class="mdui-panel-item-body mdui-typo" style='padding: 12px; padding-bottom: 0px;'>\n      <p><i class="mdui-icon material-icons">check_circle</i>${n}</p>\n    </div>\n  </div>\n  `,e.appendChild(i)}function isAndroidQQInnerWebView(e){if("string"!=typeof e)return!1;const n=e.toLowerCase(),i=n.includes("android"),d=n.includes("v1_and_sq_"),o=n.includes("qqtheme/"),a=n.includes("qq/"),t=n.includes("wv"),r=i&&d&&o&&a&&t;return console.log("系统检测：是安卓版QQ内置WebView：",r),r}